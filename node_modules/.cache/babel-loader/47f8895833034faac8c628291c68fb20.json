{"ast":null,"code":"const clientId = \"75512e8899a34ca7a0dce9fb97ef9eab\";\nconst redirectUri = \"http://localhost:3000/\";\nlet accessToken = \"BQBpaBvmX7Uy1n8-FBw0B_YHAIPz_BHU_-FxVd3cEeisoBW-cJEko3qKoy2vNYOsE1xLUWqkTmxaKKpkt6RdRelYKIiEXXo69HwEnwMVj4Nxax3t4RlJmzmppTNpRYLXYGsT7w-m2kWhCOM4FqAIvVw\";\nconst Spotify = {\n  // getAccessToken() {\n  //   if (accessToken) {\n  //     console.log(accessToken);\n  //     return accessToken;\n  //   }\n  //   const newAccessToken = window.location.href.match(/access_token=([^&]*)/);\n  //   const newExpiresIn = window.location.href.match(/expires_in=([^&]*)/);\n  //   if (newAccessToken && newExpiresIn) {\n  //     accessToken = newAccessToken[1];\n  //     const expiresIn = Number(newExpiresIn[1]);\n  //     window.setTimeout(() => (accessToken = \"\"), expiresIn * 1000);\n  //     window.history.pushState(\"Access Token\", null, \"/\");\n  //     console.log(accessToken);\n  //     return accessToken;\n  //   } else {\n  //     const accessUrl = `https://accounts.spotify.com/authorize?client_id=${clientId}&response_type=token&scope=playlist-modify-public&show_dialog=true&redirect_uri=${redirectUri}`;\n  //     console.log(accessToken);\n  //     window.location = accessUrl;\n  //   }\n  // },\n  searchArtists(searchTerm) {\n    const accessToken = Spotify.getAccessToken();\n    const headers = {\n      Authorization: `Bearer ${accessToken}`\n    };\n    return fetch(`https://api.spotify.com/v1/search?q=${searchTerm}&type=artist`, {\n      headers: headers\n    }).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      throw new Error(\"Request failed!\");\n    }, networkError => {\n      console.log(networkError.message);\n    }).then(jsonResponse => {\n      return jsonResponse;\n    });\n  },\n\n  getSimilarArtists(id) {\n    const accessToken = Spotify.getAccessToken();\n    const headers = {\n      Authorization: `Bearer ${accessToken}`\n    };\n    return fetch(`https://api.spotify.com/v1/artists/${id}/related-artists`, {\n      headers: headers\n    }).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      throw new Error(\"Request failed!\");\n    }, networkError => {\n      console.log(networkError.message);\n    }).then(jsonResponse => {\n      return jsonResponse;\n    });\n  },\n\n  getTopSongs(id) {\n    const accessToken = Spotify.getAccessToken();\n    const headers = {\n      Authorization: `Bearer ${accessToken}`\n    };\n    return fetch(`https://api.spotify.com/v1/artists/${id}/top-tracks?market=ES`, {\n      headers: headers\n    }).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      throw new Error(\"Request failed!\");\n    }, networkError => {\n      console.log(networkError.message);\n    }).then(jsonResponse => {\n      // console.log(jsonResponse);\n      let filteredResponse = jsonResponse.tracks.map(track => ({\n        uri: track.uri\n      }));\n      return filteredResponse.slice(0, 4);\n    });\n  },\n\n  getUsersTopArtists() {\n    const accessToken = Spotify.getAccessToken();\n    const headers = {\n      Authorization: `Bearer ${accessToken}`\n    };\n    return fetch(` https://api.spotify.com/v1/me/top/artists`, // ` https://api.spotify.com/v1/me/top/artists?time_range=short_term&limit=30&offset=0`,\n    {\n      headers: headers\n    }).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      throw new Error(\"Request failed!\");\n    }, networkError => {\n      console.log(networkError.message);\n    }).then(jsonResponse => {\n      return jsonResponse.items;\n    });\n  },\n\n  getUsersTopTracks() {\n    const accessToken = Spotify.getAccessToken();\n    const headers = {\n      Authorization: `Bearer ${accessToken}`\n    };\n    return fetch(` https://api.spotify.com/v1/me/top/tracks`, // ` https://api.spotify.com/v1/me/top/tracks?time_range=short_term&limit=30&offset=0`,\n    {\n      headers: headers\n    }).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      throw new Error(\"Request failed!\");\n    }, networkError => {\n      console.log(networkError.message);\n    }).then(jsonResponse => {\n      console.log(jsonResponse, \"TOP SONGS\");\n      return jsonResponse.items;\n    });\n  },\n\n  getMyDetails() {\n    const accessToken = Spotify.getAccessToken();\n    const headers = {\n      Authorization: `Bearer ${accessToken}`\n    };\n    return fetch(\"https://api.spotify.com/v1/me\", {\n      headers: headers\n    }).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      throw new Error(\"Request failed!\");\n    }, networkError => {\n      console.log(networkError.message);\n    });\n  },\n\n  savePlaylist(playlistName, trackURIs) {\n    if (playlistName && trackURIs.length) {\n      const accessToken = Spotify.getAccessToken();\n      const headers = {\n        Authorization: `Bearer ${accessToken}`\n      };\n      let userID;\n      let playlistID;\n      return fetch(\"https://api.spotify.com/v1/me\", {\n        headers: headers\n      }).then(response => {\n        if (response.ok) {\n          return response.json();\n        }\n\n        throw new Error(\"Request failed!\");\n      }, networkError => {\n        console.log(networkError.message);\n      }).then(jsonResponse => {\n        userID = jsonResponse.id;\n        return fetch(`https://api.spotify.com/v1/users/${userID}/playlists`, {\n          method: \"POST\",\n          headers: headers,\n          body: JSON.stringify({\n            name: playlistName\n          })\n        }).then(response => {\n          if (response.ok) {\n            return response.json();\n          }\n\n          throw new Error(\"Request failed!\");\n        }, networkError => {\n          console.log(networkError.message);\n        }).then(jsonResponse => {\n          playlistID = jsonResponse.id;\n          return fetch(`https://api.spotify.com/v1/users/${userID}/playlists/${playlistID}/tracks`, {\n            method: \"POST\",\n            headers: headers,\n            body: JSON.stringify({\n              uris: trackURIs\n            })\n          }).then(response => {\n            if (response.ok) {\n              return response.json();\n            }\n\n            throw new Error(\"Request failed!\");\n          }, networkError => {\n            console.log(networkError.message);\n          }).then(jsonResponse => jsonResponse);\n        });\n      });\n    } else {\n      return;\n    }\n  }\n\n};\nexport default Spotify;","map":{"version":3,"sources":["/Users/balthazarely/Desktop/Development/Projects/react-spotify-playlistMaker/src/utils/spotify.js"],"names":["clientId","redirectUri","accessToken","Spotify","searchArtists","searchTerm","getAccessToken","headers","Authorization","fetch","then","response","ok","json","Error","networkError","console","log","message","jsonResponse","getSimilarArtists","id","getTopSongs","filteredResponse","tracks","map","track","uri","slice","getUsersTopArtists","items","getUsersTopTracks","getMyDetails","savePlaylist","playlistName","trackURIs","length","userID","playlistID","method","body","JSON","stringify","name","uris"],"mappings":"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","sourcesContent":["const clientId = \"75512e8899a34ca7a0dce9fb97ef9eab\";\nconst redirectUri = \"http://localhost:3000/\";\nlet accessToken =\n  \"BQBpaBvmX7Uy1n8-FBw0B_YHAIPz_BHU_-FxVd3cEeisoBW-cJEko3qKoy2vNYOsE1xLUWqkTmxaKKpkt6RdRelYKIiEXXo69HwEnwMVj4Nxax3t4RlJmzmppTNpRYLXYGsT7w-m2kWhCOM4FqAIvVw\";\n\nconst Spotify = {\n  // getAccessToken() {\n  //   if (accessToken) {\n  //     console.log(accessToken);\n  //     return accessToken;\n  //   }\n\n  //   const newAccessToken = window.location.href.match(/access_token=([^&]*)/);\n  //   const newExpiresIn = window.location.href.match(/expires_in=([^&]*)/);\n  //   if (newAccessToken && newExpiresIn) {\n  //     accessToken = newAccessToken[1];\n  //     const expiresIn = Number(newExpiresIn[1]);\n  //     window.setTimeout(() => (accessToken = \"\"), expiresIn * 1000);\n  //     window.history.pushState(\"Access Token\", null, \"/\");\n  //     console.log(accessToken);\n  //     return accessToken;\n  //   } else {\n  //     const accessUrl = `https://accounts.spotify.com/authorize?client_id=${clientId}&response_type=token&scope=playlist-modify-public&show_dialog=true&redirect_uri=${redirectUri}`;\n  //     console.log(accessToken);\n  //     window.location = accessUrl;\n  //   }\n  // },\n  searchArtists(searchTerm) {\n    const accessToken = Spotify.getAccessToken();\n    const headers = {\n      Authorization: `Bearer ${accessToken}`,\n    };\n    return fetch(\n      `https://api.spotify.com/v1/search?q=${searchTerm}&type=artist`,\n      {\n        headers: headers,\n      }\n    )\n      .then(\n        (response) => {\n          if (response.ok) {\n            return response.json();\n          }\n          throw new Error(\"Request failed!\");\n        },\n        (networkError) => {\n          console.log(networkError.message);\n        }\n      )\n      .then((jsonResponse) => {\n        return jsonResponse;\n      });\n  },\n\n  getSimilarArtists(id) {\n    const accessToken = Spotify.getAccessToken();\n    const headers = {\n      Authorization: `Bearer ${accessToken}`,\n    };\n    return fetch(`https://api.spotify.com/v1/artists/${id}/related-artists`, {\n      headers: headers,\n    })\n      .then(\n        (response) => {\n          if (response.ok) {\n            return response.json();\n          }\n          throw new Error(\"Request failed!\");\n        },\n        (networkError) => {\n          console.log(networkError.message);\n        }\n      )\n      .then((jsonResponse) => {\n        return jsonResponse;\n      });\n  },\n  getTopSongs(id) {\n    const accessToken = Spotify.getAccessToken();\n    const headers = {\n      Authorization: `Bearer ${accessToken}`,\n    };\n    return fetch(\n      `https://api.spotify.com/v1/artists/${id}/top-tracks?market=ES`,\n      {\n        headers: headers,\n      }\n    )\n      .then(\n        (response) => {\n          if (response.ok) {\n            return response.json();\n          }\n          throw new Error(\"Request failed!\");\n        },\n        (networkError) => {\n          console.log(networkError.message);\n        }\n      )\n      .then((jsonResponse) => {\n        // console.log(jsonResponse);\n        let filteredResponse = jsonResponse.tracks.map((track) => ({\n          uri: track.uri,\n        }));\n        return filteredResponse.slice(0, 4);\n      });\n  },\n\n  getUsersTopArtists() {\n    const accessToken = Spotify.getAccessToken();\n    const headers = {\n      Authorization: `Bearer ${accessToken}`,\n    };\n    return fetch(\n      ` https://api.spotify.com/v1/me/top/artists`,\n      // ` https://api.spotify.com/v1/me/top/artists?time_range=short_term&limit=30&offset=0`,\n\n      {\n        headers: headers,\n      }\n    )\n      .then(\n        (response) => {\n          if (response.ok) {\n            return response.json();\n          }\n          throw new Error(\"Request failed!\");\n        },\n        (networkError) => {\n          console.log(networkError.message);\n        }\n      )\n      .then((jsonResponse) => {\n        return jsonResponse.items;\n      });\n  },\n  getUsersTopTracks() {\n    const accessToken = Spotify.getAccessToken();\n    const headers = {\n      Authorization: `Bearer ${accessToken}`,\n    };\n    return fetch(\n      ` https://api.spotify.com/v1/me/top/tracks`,\n      // ` https://api.spotify.com/v1/me/top/tracks?time_range=short_term&limit=30&offset=0`,\n\n      {\n        headers: headers,\n      }\n    )\n      .then(\n        (response) => {\n          if (response.ok) {\n            return response.json();\n          }\n          throw new Error(\"Request failed!\");\n        },\n        (networkError) => {\n          console.log(networkError.message);\n        }\n      )\n      .then((jsonResponse) => {\n        console.log(jsonResponse, \"TOP SONGS\");\n        return jsonResponse.items;\n      });\n  },\n\n  getMyDetails() {\n    const accessToken = Spotify.getAccessToken();\n    const headers = {\n      Authorization: `Bearer ${accessToken}`,\n    };\n    return fetch(\"https://api.spotify.com/v1/me\", { headers: headers }).then(\n      (response) => {\n        if (response.ok) {\n          return response.json();\n        }\n        throw new Error(\"Request failed!\");\n      },\n      (networkError) => {\n        console.log(networkError.message);\n      }\n    );\n  },\n  savePlaylist(playlistName, trackURIs) {\n    if (playlistName && trackURIs.length) {\n      const accessToken = Spotify.getAccessToken();\n      const headers = {\n        Authorization: `Bearer ${accessToken}`,\n      };\n      let userID;\n      let playlistID;\n      return fetch(\"https://api.spotify.com/v1/me\", { headers: headers })\n        .then(\n          (response) => {\n            if (response.ok) {\n              return response.json();\n            }\n            throw new Error(\"Request failed!\");\n          },\n          (networkError) => {\n            console.log(networkError.message);\n          }\n        )\n        .then((jsonResponse) => {\n          userID = jsonResponse.id;\n          return fetch(`https://api.spotify.com/v1/users/${userID}/playlists`, {\n            method: \"POST\",\n            headers: headers,\n            body: JSON.stringify({ name: playlistName }),\n          })\n            .then(\n              (response) => {\n                if (response.ok) {\n                  return response.json();\n                }\n                throw new Error(\"Request failed!\");\n              },\n              (networkError) => {\n                console.log(networkError.message);\n              }\n            )\n            .then((jsonResponse) => {\n              playlistID = jsonResponse.id;\n              return fetch(\n                `https://api.spotify.com/v1/users/${userID}/playlists/${playlistID}/tracks`,\n                {\n                  method: \"POST\",\n                  headers: headers,\n                  body: JSON.stringify({ uris: trackURIs }),\n                }\n              )\n                .then(\n                  (response) => {\n                    if (response.ok) {\n                      return response.json();\n                    }\n                    throw new Error(\"Request failed!\");\n                  },\n                  (networkError) => {\n                    console.log(networkError.message);\n                  }\n                )\n                .then((jsonResponse) => jsonResponse);\n            });\n        });\n    } else {\n      return;\n    }\n  },\n};\n\nexport default Spotify;\n"]},"metadata":{},"sourceType":"module"}